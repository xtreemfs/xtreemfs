.TH xtfs_mrcdbtool 1 "July 2011" "The XtreemFS Distributed File System" "XtreemFS Admin Tools"
.SH NAME
xtfs_mrcdbtool \- dumps and restores MRC databases.
.SH SYNOPSIS
\fBxtfs_mrcdbtool [\fIoptions\fB] \fIdump|restore\fP <dump_file>
.br

.SH DESCRIPTION
.I xtfs_mrcdbtool
dumps an MRC database to a file, or restores an MRC database from a dump file. An XML dump of the MRC database is created if the \fIdump\fP option is chosen. When dumping an MRC database, the XML file containing the dump will be created on the server at the path \fIdump_file\fP. Dumps can be restored by using the \fIrestore\fP option. For safety reasons, this is only possible if the target MRC does not have a database yet.

.SH EXAMPLE USAGE
.TP
.B "xtfs_mrcdbtool -mrc pbrpc://localhost:32636 dump /tmp/dump.xml"
Dumps the database of the MRC running on \fIlocalhost:32636\fP to \fI/tmp/dump.xml\fP.
.TP
.B "xtfs_mrcdbtool -mrc pbrpc://localhost:32636 restore /tmp/dump.xml"
Restores the database of the MRC running on \fIlocalhost:32636\fP from the dump in \fI/tmp/dump.xml\fP.

.SH OPTIONS
.TP
.B \-c \fIcreds_file
Path to a PKCS#12 credentials file (private key + certificate) to use for SSL authentication. Must be present when MRC URL starts with pbrpcs:// or pbrpcg://.
.TP
.B \-cpass \fIcreds_passphrase
An optional passphrase to access the credentials file.
.TP
.B \-h/--help
Shows usage info.
.TP
.B \-mrc \fImrc_url
The URL the MRC, e.g. pbrpc://localhost:32636.
.TP
.B \-t \fItrusted_CAs
Path to a PKCS#12 file containing a set of certificates from trusted certification authorities. These certificates will be used to authenticate the MRC. Must be present when MRC URL starts with pbrpcs:// or pbrpcg://.
.TP
.B \-tpass \fItrusted_passphrase
An optional passphrase to access the truststore file.
.TP
.B \--admin_password \fI<passphrase>
The administrator password, if password protection is enabled.
.TP
\fB---ssl-protocol \fI<ssl-protocol> 
SSL/TLS version to use: ssltls, tlsv1, tlsv11, tlsv12. 'ssltls' (default) accepts all versions, the others accept only the exact version they name. 'tlsv12' is available in JDK 7+ only. 'tlsv11' comes with JDK 6 or 7, depending on the vendor.

.SH "SEE ALSO"
.BR xtfs_chstatus (1),
.BR xtfs_cleanup (1),
.BR xtfs_remove_osd (1),
.BR xtfs_scrub (1),
.BR

.SH AVAILABILITY
The xtfs_mrcdbtool command is part of the XtreemFS-tools package and is available from \fIhttp://www.xtreemfs.org\fP.